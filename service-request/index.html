<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://ibm.github.io/IBM-Sustainability-Software-Portfolio-Connectors/service-request/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Service Request Integration - IBM Sustainability Software Portfolio Connectors</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Service Request Integration";
        var mkdocs_page_input_path = "service-request.md";
        var mkdocs_page_url = "/IBM-Sustainability-Software-Portfolio-Connectors/service-request/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> IBM Sustainability Software Portfolio Connectors
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">IBM MAS Connector for TRIRIGA</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../mas-tas-home/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mas-tas/">Portfolio Data Integration</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Service Request Integration</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#description">Description</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pre-requisites">Pre-requisites</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#maximo">Maximo</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-application-designer">1. Application Designer</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#appconnect">AppConnect</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tririga">TRIRIGA</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#populate-the-domain-created-in-the-maximo-pre-requisites">Populate the domain created in the Maximo pre-requisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#filter">Filter</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#step-1-create-a-service-request">Step 1. Create a Service Request</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#prerequisite">Prerequisite</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#maximo-to-tririga">Maximo to TRIRIGA</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tririga-to-maximo">TRIRIGA to Maximo</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#maximo_1">Maximo</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#appconnect_1">AppConnect</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tririga_1">TRIRIGA</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../work-order/">Work Order Integration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">IBM MAS Connector for Envizi</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../max-envizi-index/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../maximo-envizi/">IBM Maximo Application Suite Connector for Envizi</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">IBM TAS Connector for Envizi</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../tas-envizi-index/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tririga-envizi/">IBM Tririga Application Suite Connector for Envizi</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">IBM Sustainability Software Portfolio Connectors</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>IBM MAS Connector for TRIRIGA &raquo;</li>
      <li>Service Request Integration</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/IBM/IBM-Sustainability-Software-Portfolio-Connectors/blob/master/docs/service-request.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="service-request-integration">Service Request Integration</h1>
<h2 id="summary">Summary</h2>
<p>Enable automated synchronization of Service Request data from IBM Maximo to IBM TRIRIGA or vice versa.</p>
<h2 id="description">Description</h2>
<p>In this code pattern, learn how to synchronize a Service Request created in Maximo with TRIRIGA using an AppConnect Designer flow. </p>
<p><img width="467" alt="Service-Request-Diagram" src="https://media.github.ibm.com/user/348712/files/490e0180-3805-11ed-922a-e18101228a1e" height=800px></p>
<p><em>Service Request Flow</em></p>
<ol>
<li>When a Service Request is created in Maximo Asset Management, it triggers the flow to populate the request in TRIRIGA. (There is also a flow that works in the reverse direction, that works in a similar way.)</li>
<li>App Connect sends a request with the new information through the flow towards the target system (TRIRIGA).</li>
<li>A JSON Parser sifts through the request and converts it to an object.</li>
<li>This object from the JSON Parser goes through Steps 5-8.</li>
<li>The data from the object is mapped to the corresponding fields in the target application (TRIRIGA).</li>
<li>The newly mapped data is sent to the target application (TRIRIGA) where the request is then created.</li>
<li>This record is then validated with the original application (Maximo Asset Management) via another Post request.</li>
<li>An ID is created within the original application (Maximo Asset Management).</li>
</ol>
<p>At the end of this process, a Service Request can be created within Maximo and sent to TRIRIGA and vice versa.</p>
<h2 id="pre-requisites">Pre-requisites</h2>
<p>This configuration assumes the completion of the pre-requisites and steps outlined in the <a href="https://ibm.github.io/IBM-Sustainability-Software-Portfolio-Connectors/mas-tas-home/">Maximo &lt;-&gt; TRIRIGA code pattern</a>.</p>
<h3 id="maximo">Maximo</h3>
<p>Within Maximo, a change to the Service Request application is needed to see additional fields.</p>
<h4 id="1-application-designer">1. Application Designer</h4>
<p><img width="1788" alt="App-Designer" src="https://media.github.ibm.com/user/348712/files/457a7a80-3805-11ed-9484-133899bdfac4"></p>
<p><em>SR Application Designer</em></p>
<p>Go to <strong>System Configuration -&gt; Platform Configuration -&gt; Application Designer</strong></p>
<p>Search for <strong>SR</strong></p>
<p>Switch to the Service Request Tab and scroll down to the Service Request Details section</p>
<p>At the top, click the icon labeled <strong>Control Palette</strong> and add a Multipart Textbox at the top of the right section. Add these values within the properties of the Multipart Textbox. </p>
<p><strong> Be sure that the PLUSIREQCLASSID Attribute is taken from the TICKET Object. </strong></p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Attribute</td>
<td>PLUSIREQCLASSID</td>
</tr>
<tr>
<td>Attribute for Part 2</td>
<td>PLUSIREQCLASS.DESCRIPTION</td>
</tr>
<tr>
<td>Lookup</td>
<td>VALUELIST</td>
</tr>
<tr>
<td>Input Mode for Part 2</td>
<td>Readonly</td>
</tr>
</tbody>
</table>
<p>Click <strong>Save Definition</strong> after the changes are added.</p>
<h3 id="appconnect">AppConnect</h3>
<p>The configuration of AppConnect from the previous code pattern should provide the <strong>mxtririga</strong> and <strong>trimaximo</strong> accounts within AppConnect needed for the flows to work properly.</p>
<p>Download and import the .yaml files for <strong>PLUSIMXServiceReq2TRI</strong> and <strong>PLUSITRIReqClass2MX</strong> and keep the urls handy for a later step. Use the following table for the parameters:</p>
<table>
<thead>
<tr>
<th>Parameter Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>mxUrl</td>
<td>http://[host]:[port]/meaweb/esqueue/PLUSITRIRIGA/PLUSIMXSR</td>
</tr>
<tr>
<td>triUrl</td>
<td>http://[host]:[port]/oslc/so/triAPICServiceRequestCF</td>
</tr>
<tr>
<td>mxDomain</td>
<td>PLUSIREQCLASS</td>
</tr>
</tbody>
</table>
<h3 id="tririga">TRIRIGA</h3>
<h4 id="populate-the-domain-created-in-the-maximo-pre-requisites">Populate the domain created in the Maximo pre-requisites</h4>
<ol>
<li>
<p>Go to <strong>Tools -&gt; System Setup -&gt; Integration -&gt; Integration Object</strong></p>
</li>
<li>
<p>Select <strong>triRequestClass - APIC - HTTP Post</strong> from the table and fill in the URL with the correct parameters from the App Connect section.</p>
</li>
<li>
<p>Click <strong>Execute</strong> at the top of the window. The process will take a few minutes since there is a large amount of files, but once it is completed you can check that the batch processed correctly under the specified domain.</p>
</li>
</ol>
<h4 id="filter">Filter</h4>
<ol>
<li>To filter the request from TRIRIGA to Maximo, update the <strong>Filter</strong> tab in the <strong>triAPICServiceRequest - OSLC - Outbound</strong> query to trigger for selected Request Classes. Select <strong>System</strong> for <strong>triRequestClassCL</strong> and then <strong>Run Report</strong></li>
</ol>
<p><img></p>
<h2 id="step-1-create-a-service-request">Step 1. Create a Service Request</h2>
<h3 id="prerequisite">Prerequisite</h3>
<p>A service request needs a member of the TRIRIGA organization on both Maximo and TRIRIGA. If you are starting from scratch, run the <em>PLUSITRIPERSONBATCH</em> flow to sync the person records in both systems. If data is already aligned and present, you are ready to run the integration.</p>
<h3 id="maximo-to-tririga">Maximo to TRIRIGA</h3>
<ol>
<li>
<p>Go to <strong>Service Desk -&gt; Service Request</strong> and click on the blue plus sign to create a new service request.</p>
</li>
<li>
<p>Assign a user to Reported By and Affected Person. From here, a request classification needs to be selected and the value and description will populate in. <strong>Click Save Service Request</strong> and the flow should fire.</p>
</li>
</ol>
<p><img src="https://media.github.ibm.com/user/348712/files/490e0180-3805-11ed-959f-b0d9f985d16f" alt="Service Request" ></p>
<p><em>Create Service Request in Maximo</em></p>
<h3 id="tririga-to-maximo">TRIRIGA to Maximo</h3>
<ol>
<li>
<p>Go to <strong>Requests -&gt; Manage Requests -&gt; Electrical &amp; Lighting</strong> and click the <strong>Add</strong> button on the top right. </p>
</li>
<li>
<p>Fill in the required fields and click <strong>Submit</strong> at the top right of the newly opened window. The flow should fire upon submission.</p>
</li>
</ol>
<p><img src="https://media.github.ibm.com/user/348712/files/4a3f2e80-3805-11ed-9020-b097f3cb1251" alt="Tri Service Request" ></p>
<p><em>TRIRIGA Service Request</em></p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Common Errors and their resolutions:</p>
<h3 id="maximo_1">Maximo</h3>
<p>Common errors found in the Maximo system</p>
<table>
<thead>
<tr>
<th>Error</th>
<th>Cause</th>
</tr>
</thead>
<tbody>
<tr>
<td>401: Bad Request</td>
<td>This usually means an aspect of the request was not sent correctly- double check what is being sent as well as the flow in AppConnect to make sure everything is correct and running.</td>
</tr>
</tbody>
</table>
<h3 id="appconnect_1">AppConnect</h3>
<p>Troubleshoot App Connect with the logging function. </p>
<ol>
<li>
<p>While the flow is stopped, add a <strong>Log</strong> node into the flow from the <strong>Toolbox</strong> tab. This will allow mapping of any field to the <strong>Logging</strong> section of the application. </p>
</li>
<li>
<p>Select <strong>Info</strong> for the Log level and then map the field that needs debugging. In this example the Request Object has been mapped to see what is being sent through the flow. Click the icon to the right of the Message Detail to map the desired field. The <strong>Log</strong> node will compile the message and read it out in the <strong>Logging</strong> section.</p>
</li>
<li>
<p>Diagnose the response that shows up in this section to learn what might be causing the issue.</p>
</li>
</ol>
<p><img src="https://media.github.ibm.com/user/348712/files/47dcd480-3805-11ed-9c5f-f68af91cbc41" alt="Log Designer" ></p>
<p><em>Step 1: Log Node</em></p>
<p><img src="https://media.github.ibm.com/user/348712/files/46aba780-3805-11ed-8db5-67c866d28126" alt="Log Content" ></p>
<p><em>Step 2: Log Content</em></p>
<p><img src="https://media.github.ibm.com/user/348712/files/47dcd480-3805-11ed-9efb-a9cb2dd074d4" alt="Log Location" ></p>
<p><em>Logging section</em></p>
<p><img src="https://media.github.ibm.com/user/348712/files/47443e00-3805-11ed-9e6e-7fe53c4465c3" alt="Log Dashboard" ></p>
<p><em>Step 3: Logging Dashboard</em></p>
<h3 id="tririga_1">TRIRIGA</h3>
<p>Common errors found in the TRIRIGA system</p>
<table>
<thead>
<tr>
<th>Error</th>
<th>Cause</th>
</tr>
</thead>
<tbody>
<tr>
<td>ERROR: Requested For Does not Exist</td>
<td>No People record exists with the triIdTX value mentioned in triRequestedForTX field of the payload</td>
</tr>
<tr>
<td>ERROR: Requested By Does not Exist</td>
<td>No People record exists with the triIdTX value mentioned in triRequestedByTX field of the payload</td>
</tr>
<tr>
<td>ERROR: Building Does not Exist</td>
<td>No Building record exists with the triNameTX value mentioned in triBuildingTX field of the payload</td>
</tr>
<tr>
<td>ERROR: Request Class Does not Exist</td>
<td>No Request Class record exists with the triNameTX value mentioned in triRequestClassCL field of the payload</td>
</tr>
<tr>
<td>ERROR: Organization Does not Exist</td>
<td>No Organization record exists with the triPathTX value mentioned in triCustomerOrgTX field of the payload</td>
</tr>
<tr>
<td>ERROR: Service Request Does not Exist</td>
<td>No Service Request record exists with the triIdTX value mentioned in triExternalReferenceTX field of the payload</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/IBM/IBM-Sustainability-Software-Portfolio-Connectors" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../mas-tas/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../work-order/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" defer></script>
      <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
